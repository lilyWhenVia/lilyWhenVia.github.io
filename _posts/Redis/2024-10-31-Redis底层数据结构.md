
# 跳表

## 结构

### ele

### 权重设计

节点的权重在跳表中通常是用来决定节点的排序和层级结构的。设计节点权重的方式主要考虑以下几个方面：

1. **唯一性**：每个节点的权重应该是唯一的，以便在查找时能够准确定位目标节点。

2. **排序规则**：节点的权重决定了跳表中节点的顺序。一般情况下，权重越大的节点在跳表中越靠后。

3. **随机化**：为了保持跳表的平衡性，节点的权重可以通过随机化算法进行分配。例如，在插入新节点时，可以随机生成权重，并根据权重将节点插入到适当的位置。

4. **层级设计**：节点的权重可以影响其在不同层级中的出现频率。通常，较高权重的节点会出现在更高的层级，而较低权重的节点则可能只出现在底层。这样可以加速查找过程。

5. **动态调整**：在插入或删除节点时，可能需要动态调整节点的权重，以保持跳表的平衡性和效率。

总的来说，节点的权重设计需要确保节点的有序性和跳表的平衡性，以实现高效的查找、插入和删除操作。

## 跳表如何查找元素

跳表是一种高效的数据结构，能够在对数时间内进行查找、插入和删除操作。其查找过程可以总结如下：

1. **从最高层开始**：查找始于跳表的最高层（L2），从头节点开始。

2. **逐层比较**：
   - 在当前层，比较目标节点的元素和指向的节点的元素。
   - 如果目标节点的权重大于当前节点的权重，向右移动到下一个节点进行比较。
   - 如果当前节点的权重小于目标节点的权重，向下移动到下一层，继续查找。

3. **空节点处理**：
   - 如果当前层的下一个节点为空，说明该层没有更多可比较的节点，则需要跳到当前节点的下一层继续查找。

4. **找到目标节点**：
   - 重复上述步骤，直到找到与目标节点相同的元素或权重，或者达到跳表的底层。
   - 一旦找到目标节点，查询结束。

## 插入删除元素

跳表的插入和删除操作是基于节点的权重和层级结构进行的。以下是这两个操作的具体步骤：
### 插入操作

1. **生成随机层级**：
   - 为新节点生成一个随机层级（高度），通常使用随机数生成器来决定该节点在跳表中的层数。

2. **查找插入位置**：
   - 从跳表的最高层开始，逐层向右查找，找到第一个权重大于新节点的节点。
   - 如果当前层的下一个节点为空，跳到下一层继续查找。

3. **插入节点**：
   - 在找到的位置插入新节点，更新指针以维持跳表的结构。
   - 对于新节点的每一层，确保它的指针正确地指向相应的下一个节点。

4. **维护层级**：
   - 如果新节点的层级高于当前跳表的最大层级，更新跳表的最高层指针。

### 删除操作

1. **查找要删除的节点**：
   - 从跳表的最高层开始，逐层向右查找，找到要删除的节点。
   - 如果当前层的下一个节点的权重大于要删除节点的权重，则跳到下一层。

2. **删除节点**：
   - 在找到要删除的节点后，更新指针以跳过该节点，将前一个节点的指针指向要删除节点的下一个节点。
   - 在所有层中进行此操作，确保每一层的指针都正确更新。

3. **维护结构**：
   - 如果删除的节点是跳表中最高层的节点，可能需要降低跳表的层数。
 总结
- **插入**和**删除**操作的时间复杂度均为 O(log n)，因为它们都依赖于跳表的层级结构进行高效查找。
- 通过随机化层级和动态调整指针，跳表能够保持平衡，从而确保操作的高效性。