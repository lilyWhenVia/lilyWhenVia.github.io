---
    layout:     post
    title:      æ’åºæŸ¥æ‰¾ç®—æ³•
    date:       2023-04-07
    author:     lily
    header-img: img/æ•°æ®ç»“æ„ä¸ç®—æ³•.jpg
    catalog: 	 true
    tags:       æ•°æ®ç»“æ„ä¸ç®—æ³•
---

# çº¿æ€§è¡¨çš„æŸ¥æ‰¾
## çº¿æ€§æŸ¥æ‰¾â€”â€”linear search

- æŒ‰é¡ºåºä¾æ¬¡å¾€åæŸ¥æ‰¾
## äºŒåˆ†æŸ¥æ‰¾â€”â€”binary search

- æ—¶é—´å¤æ‚åº¦ï¼šæ¯æ¬¡æŸ¥æ‰¾ï¼Œå¾ªç¯å‡åŠ,æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆlognï¼‰
```python
class Solution(object):
    def search(self, nums, target):
        left = 0
        right = len(nums) - 1
        while left<=right:   #è¿˜å­˜åœ¨å¯æŸ¥æ‰¾ç©ºé—´
            mid = (left + right)//2   #ä¸­é—´å€¼ç´¢å¼•ä¸ºå·¦è¾¹+å³è¾¹æ•´é™¤2ï¼ˆä¸­å¿ƒåå·¦ï¼‰
            if nums[mid] == target:
                return mid
            elif nums[mid] > target:  #æŸ¥è¯¢å€¼åœ¨midå·¦è¾¹,å·¦è¾¹ç•Œä¸åŠ¨ï¼Œç§»åŠ¨å³è¾¹ç•Œ
                right = mid - 1
            else:
                left = mid + 1
            else:
                return -1     #æŸ¥è¯¢ä¸åˆ°è¿”å›-1

```

### äºŒåˆ†æŸ¥æ‰¾é—­åŒºé—´æ¨¡æ¿

```java
Â  Â  // äºŒåˆ†æŸ¥æ‰¾é—­åŒºé—´æ¨¡æ¿
Â  Â  public int binSearch(int[] nums, int l, int r, int target){
Â  Â  Â  Â  while (l<=r){
Â  Â  Â  Â  Â  Â  int mid = l+(r-l)/2;
Â  Â  Â  Â  Â  Â  if (nums[mid] < target){
Â  Â  Â  Â  Â  Â  Â  Â  l = mid+1;
Â  Â  Â  Â  Â  Â  }else{
Â  Â  Â  Â  Â  Â  Â  Â  r = mid-1;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // Â System.out.println("bin: "+l+", "+r+" "+mid);
Â  Â  Â  Â  }
Â  Â  Â  Â  // åˆ¤æ–­æ˜¯å¦è¶Šç•Œä¸”æ‰¾åˆ°äº†target
Â  Â  Â  Â  if (l < nums.length && nums[l]==target){
Â  Â  Â  Â  Â  Â  return l;
Â  Â  Â  Â  }
Â  Â  Â  Â  return -1;
Â  Â  }

Â  Â  // å¯»æ‰¾æ’åºæ•°ç»„çš„ã€ç¬¬ä¸€ä¸ªã€‘æœ€å°å€¼->æœ€å°å€¼æ˜¯æ•°ç»„æ–­å¼€çš„æ–°èµ·å§‹ç‚¹
Â  Â  public int findMin(int[] nums){
Â  Â  Â  Â  // ä½¿ç”¨äºŒåˆ†é€»è¾‘: é€šè¿‡midå€¼ä¸æ ‡å‡†å€¼çš„å¤§å°å…³ç³»ï¼Œåˆ¤æ–­éœ€è¦å·¦ç§»rè¿˜æ˜¯å³ç§»åŠ¨lè¿›è€Œç¼©å°æŸ¥æ‰¾åŒºé—´ï¼Œæœ€åæŠŠæŸ¥æ‰¾å€¼æŒ‡å‘åŒºé—´å†…å”¯ä¸€å€¼
Â  Â  Â  Â  // æ ‡å‡†å€¼ä¸ºnums[n-1]ï¼Œè¿™ä¸ªå€¼æ˜¯æ•°ç»„æ—‹è½¬çš„åˆ‡å‰²ç‚¹ï¼Œéœ€è¦æ‰¾å¯»åˆ‡å‰²ç‚¹æ‰èƒ½åˆ†åŒºé—´äºŒåˆ†
Â  Â  Â  Â  int n = nums.length;
Â  Â  Â  Â  // é—­åŒºé—´ã€‚ç‰¹æ®Šæƒ…å†µå¤„ç†ï¼Œ1.ä¸éœ€è¦éå†åˆ°æœ€åä¸€ä½ 2.å½“ç‰¹æ®Šæƒ…å†µæ—¶len=1ï¼Œr=-1ï¼Œä¸ä¼šè¿›å…¥å¾ªç¯
Â  Â  Â  Â  int l=0, r=n-2;
Â  Â  Â  Â  // é—­åŒºé—´ä¸ä¸ºç©º
Â  Â  Â  Â  while (l<=r){
Â  Â  Â  Â  Â  Â  int mid = l+(r-l)/2;
Â  Â  Â  Â  Â  Â  if (nums[mid] < nums[n-1]){
Â  Â  Â  Â  Â  Â  Â  Â  // midåœ¨ååŠåŒºé—´ï¼ŒæŸ¥æ‰¾èŒƒå›´è¦å‘å‰ç§»
Â  Â  Â  Â  Â  Â  Â  Â  r = mid-1;
Â  Â  Â  Â  Â  Â  }else {
Â  Â  Â  Â  Â  Â  Â  Â  // midåœ¨å‰åŠåŒºé—´, æŸ¥æ‰¾èŒƒå›´è¦å‘åç§»
Â  Â  Â  Â  Â  Â  Â  Â  l = mid+1;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // System.out.println(l+", "+r+" "+mid);
Â  Â  Â  Â  }
Â  Â  Â  Â  return l;
Â  Â  }
}
```


#### ä¸ºä»€ä¹ˆè¦è¿”å›å·¦è¾¹ç•Œ
è¿”å›å·¦è¾¹ç•Œä¸‹æ ‡ `l` æ˜¯æ­£ç¡®çš„ï¼ŒåŸå› å¦‚ä¸‹ï¼š
1. **äºŒåˆ†æŸ¥æ‰¾çš„æ€§è´¨**ï¼šåœ¨äºŒåˆ†æŸ¥æ‰¾ä¸­ï¼Œ`l` å’Œ `r` ç”¨æ¥å®šä¹‰å½“å‰æœç´¢çš„èŒƒå›´ã€‚`l` æ˜¯å½“å‰å¯èƒ½çš„æœ€å°ç´¢å¼•ï¼Œè€Œ `r` æ˜¯å½“å‰å¯èƒ½çš„æœ€å¤§ç´¢å¼•ã€‚å½“å¾ªç¯ç»“æŸæ—¶ï¼Œ`l` çš„ä½ç½®æ˜¯ä¸‹ä¸€ä¸ªåº”æ’å…¥ç›®æ ‡å€¼çš„ä½ç½®ã€‚

2. **å¾ªç¯é€€å‡ºæ¡ä»¶**ï¼šå½“ `l` å¤§äº `r` æ—¶ï¼Œå¾ªç¯ç»“æŸã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`l` é€šå¸¸æŒ‡å‘ç¬¬ä¸€ä¸ªå¤§äºç›®æ ‡å€¼çš„ä½ç½®ï¼Œæˆ–è€…å¦‚æœç›®æ ‡å€¼å­˜åœ¨ï¼Œå®ƒå°†æŒ‡å‘ç›®æ ‡å€¼çš„ä¸‹æ ‡ã€‚

3. **è¿”å›å€¼çš„é€»è¾‘**ï¼š
   - å¦‚æœç›®æ ‡å€¼å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œ`l` ä¼šæœ€ç»ˆæŒ‡å‘ç›®æ ‡å€¼çš„ä¸‹æ ‡ã€‚
   - å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨ï¼Œ`l` ä¼šæŒ‡å‘æ’å…¥ä½ç½®ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ä½ å¯ä»¥åœ¨ `l` çš„ä½ç½®æ’å…¥ç›®æ ‡å€¼è€Œä¿æŒæ•°ç»„çš„æ’åºã€‚

4. **å³è¾¹ç•Œçš„ä½¿ç”¨**ï¼šå¦‚æœä½ è¿”å›å³è¾¹ç•Œ `r`ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆç‰¹åˆ«æ˜¯å½“ç›®æ ‡å€¼åœ¨æ•°ç»„çš„æœ«å°¾æ—¶ï¼‰ï¼Œ`r` å¯èƒ½ä¼šæŒ‡å‘ä¸€ä¸ªä¸æ­£ç¡®çš„ä½ç½®ï¼Œæˆ–è€…åœ¨ç›®æ ‡å€¼ä¸å­˜åœ¨çš„æƒ…å†µä¸‹å¯èƒ½ä¼šè¶Šç•Œã€‚
æ€»ç»“
å› æ­¤ï¼Œè¿”å›å·¦è¾¹ç•Œ `l` æ˜¯åˆé€‚çš„ï¼Œå®ƒç¡®ä¿äº†æ— è®ºç›®æ ‡å€¼æ˜¯å¦å­˜åœ¨ï¼Œä»£ç éƒ½èƒ½æ­£ç¡®å¤„ç†å¹¶è¿”å›æœ‰æ•ˆçš„ç´¢å¼•ã€‚è¿™æ ·è®¾è®¡ç¬¦åˆäºŒåˆ†æŸ¥æ‰¾çš„é€»è¾‘ï¼Œç¡®ä¿äº†é«˜æ•ˆæ€§å’Œå‡†ç¡®æ€§ã€‚

#### ä¸ºä»€ä¹ˆéœ€è¦åˆ¤æ–­å·¦è¾¹ç•Œä¸‹æ ‡

ä¾æ®é¢˜ç›®éœ€è¦ï¼šå¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨æ—¶ä¼šè¿”å›ç›®æ ‡å€¼è¯¥æ’å…¥ä½ç½®çš„ä¸‹æ ‡ï¼Œä¸€èˆ¬é¢˜ç›®ä¼šè¦æ±‚ç›®æ ‡å€¼ä¸å­˜åœ¨æ—¶è¿”å›-1ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­è¿”å›å·¦è¾¹ç•Œæ˜¯å¦è¶Šç•Œï¼Œå¦‚æœæœªè¶Šç•Œï¼Œé‚£ä¹ˆæ’å…¥ä½ç½®æ˜¯å¦ä¸ºç›®æ ‡å€¼ï¼Œå¦‚æœä¸æ˜¯ç›®æ ‡å€¼é‚£ä¹ˆè¯´æ˜æ²¡æ‰¾åˆ°è¯¥å€¼ã€‚

# æ’åº

- å¸¸è§æ’åºç®—æ³•ï¼š
   - LowBæ’åºç®—æ³•ï¼šå†’æ³¡ï¼ˆbobbleï¼‰æ’åºï¼Œé€‰æ‹©ï¼ˆselectï¼‰æ’åºï¼Œæ’å…¥ï¼ˆinsertï¼‰æ’åº
   - NBæ’åºç®—æ³•ï¼šå¿«é€Ÿæ’åºï¼Œå †æ’åºï¼Œå½’å¹¶æ’åº
   - å…¶ä»–ç®—æ³•ï¼šå¸Œå°”æ’åºï¼Œè®¡æ•°æ’åºï¼ŒåŸºæ•°æ’åº
## å†’æ³¡æ’åº

- æ—¶é—´å¤æ‚åº¦ï¼šO(n^2),ä¸¤å±‚å¾ªç¯ ï¼Œæ¯æ¬¡å¾ªç¯é•¿åº¦éƒ½ä¸ºåˆ—è¡¨é•¿åº¦nã€‚
- ![image.png](https://cdn.nlark.com/yuque/0/2022/png/1238904/1659148601626-33c5b79a-8c73-45fc-ba88-4d5c98d43d27.png#averageHue=%23f7f7f7&clientId=u6ecd76ff-5a44-4&errorMessage=unknown%20error&from=paste&height=228&id=u23740031&name=image.png&originHeight=342&originWidth=237&originalType=binary&ratio=1&rotation=0&showTitle=false&size=12173&status=error&style=none&taskId=u4f984a75-5231-4f73-bd9e-bcfa496dbe9&title=&width=158)
### åŸºæœ¬ç‰¹ç‚¹ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)
- **æ¯æ’ä¸€è½®ï¼Œéƒ½ä¼šè®©æœ‰åºåŒºå¤šä¸€ä¸ªæ•°ã€‚**
- **åŸåœ°æ’åºï¼šåœ¨åŸæœ‰åˆ—è¡¨ä¸Šçš„åŸºç¡€ä¸Šæ’åºä¿®æ”¹è°ƒæ•´åˆ—è¡¨**
1. å¤–å±‚å¾ªç¯æ§åˆ¶è¿™æ ·å†’æ³¡çš„æ“ä½œè¦æ¥å›å‡ è¶Ÿ
2. å†…å±‚å¾ªç¯æ§åˆ¶æ¯ä¸€è¶Ÿç›¸é‚»ä¸¤ä¸ªæ•°ä¹‹é—´çš„æ¯”è¾ƒ
3. å¤–å±‚å¾ªç¯é•¿åº¦ï¼šç”±äºåˆ—è¡¨æœ‰nä¸ªæ•°ï¼Œéœ€è¦æŠŠn-1ä¸ªæ•°å†’æ³¡ä¸Šå»ï¼ˆå‰©ä¸‹æœ€å°çš„æ•°è‡ªç„¶å°±æ²‰åˆ°äº†ç¬¬0ä½ï¼‰ï¼Œæ‰€ä»¥éœ€è¦å¾ªç¯n-1è¶Ÿã€‚
4. å†…å±‚å¾ªç¯é•¿åº¦ï¼šä»ç¬¬0ä½å¼€å§‹ï¼Œç”¨i0ä¸i1è¿›è¡Œæ¯”è¾ƒï¼›æ¥ç€i1ä¸i2è¿›è¡Œæ¯”è¾ƒï¼›æœ€åä¸€ä½æ˜¯i(n-1)ä¸inè¿›è¡Œæ¯”æ¯”è¾ƒï¼Œæ‰€ä»¥å†…å±‚å¾ªç¯æŒ‡é’ˆåº”è¯¥æœ€åæŒ‡å‘ç¬¬n-1ï¼Œæ‰€ä»¥å†…å±‚å¾ªç¯é•¿åº¦ä¸ºn-1.
- ä»£ç ï¼š
```python
def bobble_sort(list):
    for i in rang(len(list)-1):
        for j in rang(len(list)-1):
            #å¦‚æœå‰ä¸€ä½çš„æ•°å¤§äºåä¸€ä½çš„æ•°
            if list[j]>list[j+1]:
                #åˆ™äº¤æ¢ä½ç½®
                list[j],list[j+1] = list[j+1],list[j]
            '''å¦‚å‰ä¸€ä½çš„æ•°ä¸å¤§äºåä¸€ä½çš„æ•°ï¼Œè¿™ä¿©æ•°ä¸ç”¨äº¤æ¢ä½ç½®ï¼Œ
            å†…å±‚å¾ªç¯ç»§ç»­å¾€å‰èµ°ï¼Œæ£€æŸ¥ä¸‹ä¸¤ä½ç›¸é‚»æ•°å­—éœ€ä¸éœ€è¦äº¤æ¢é¡ºåº'''
 #å¦‚æœè¿™ä¸€è¶Ÿä¸‹æ¥æ‰€æœ‰çš„æ•°ä½æ¬¡éƒ½ä¸ç”¨äº¤æ¢ï¼Œåˆ™è¯´æ˜åˆ—è¡¨å·²ç»æ’å¥½äº†ï¼Œ
 #å¤–å±‚å¾ªç¯å¯ä»¥ä¸ç”¨å†ç»§ç»­äº†ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ä¸€ä¸ªæ ‡å¿—æ£€éªŒè¿™ä¸€å±‚å¾ªç¯æ˜¯å¦
 #å·²ç»æœ‰åº
def bobble_sort_verion2(li):
    for i in rang(len(li)-1):
        exchang = True
        for j in rang(len(li)-1):
            if li[j] > li[j+1]:
                li[j],li[j+1] = li[j+1],li[j]
                exchang = False
         if exchang:#è¯´æ˜å†…å±‚å¾ªç¯ä¸€æ¬¡ä¹Ÿæ²¡äº¤æ¢è¿‡ï¼Œå¯ä»¥é€€å‡ºå¾ªç¯äº†
            return
```
## é€‰æ‹©æ’åº

- æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)
- å›¾è§£ï¼š

![](https://cdn.nlark.com/yuque/0/2022/jpeg/1238904/1659580818299-ae212f33-85c5-43e9-8b08-9952199f24a5.jpeg)
### åŸºæœ¬ç‰¹ç‚¹

- **æ’åºç‰¹ç‚¹ï¼šæŠŠåˆ—è¡¨ä¸­æœ€å°çš„æ•°æ‰¾åˆ°ï¼Œå¹¶æ”¾ç½®ï¼ˆä¸ç¬¬ä¸€ä¸ªä½ç½®çš„æ•°è¿›è¡Œäº¤æ¢ï¼‰åˆ°ç¬¬ä¸€ä¸ªä½ç½®ä¸Šï¼Œç›´æ¥æŒ‘å‡ºï¼ˆselectï¼‰æœ€å°çš„æ•°ä¸ç¬¬ä¸€ä¸ªä½ç½®æ•°äº¤æ¢ï¼Œä¸åƒå†’æ³¡æ’åºï¼Œåªä¸ç›¸é‚»çš„æ•°æ¯”è¾ƒä¸”äº¤æ¢**
1. **éå†é€»è¾‘ï¼š**åœ¨æ— åºåŒºä¸­è¿›è¡Œéå†ï¼Œæ‰¾åˆ°**[æ— åºåŒº]**æœ€å°æ•°æ”¾å…¥**[æœ‰åºåŒº]**çš„æœ€åä¸€ä½ï¼›æœ‰åºåŒºæ¯æ–°å¢ä¸€ä¸ªæ•°ï¼ˆæ¯æ’å¥½ä¸€éï¼‰ï¼Œæ— åºåŒºéå†çš„èµ·å§‹ä½ç½®å°±è¦å‘å‰æŒªä¸€ä½ã€‚
2. **æ ¸å¿ƒæ­¥éª¤ï¼š**
   1. **ç¬¬ä¸€å±‚éå†å˜é‡ iï¼š**
      1. ã€iã€‘è¡¨ç¤ºæœ‰åºåŒºæœ‰å¤šå°‘ä¸ªæ•°ï¼Œä¹Ÿè¡¨ç¤ºä¸‹ä¸€ä¸ªå³å°†åŠ å…¥æœ‰åºåŒºæ•°çš„ç´¢å¼•
      2. æ‰¾åˆ°æ— åºåŒºå¼€å§‹å¤„** i æœ€å°æ•°**ä¸‹æ ‡xï¼Œè®°å½•è¯¥ä¸‹æ ‡x
      3. æŠŠxä½ç½®ä¸Šçš„æ•°æ”¾åˆ° i çš„ä½ç½®ä¸Š
   2. **ç¬¬äºŒå±‚éå†å˜é‡ j ï¼š**
      1. 

- ä»£ç å®ç°
```python
def select_sort(li):
    for i in range(len(li)-1):  #æœ€åä¸€ä¸ªæ•°ä¸ç”¨æ’
        # æ‰¾åˆ°å½“å‰æœ€å°çš„æ•°
        min_loc = i
        for j in range(i+1, len(li)):
            if li[j] < li[min_loc]:
                #ç›´è‡³æ‰¾åˆ°æœ€å°çš„æ•°
                min_loc = j
        li[i], li[min_loc] = li[min_loc], li[i]
    '''return li
    ä¸è®ºæ˜¯å¦returnåŸæ¥å‡½æ•°å·²ç»æ”¹å˜'''           
                
```

## æ’å…¥æ’åº

- æ—¶é—´å¤æ‚åº¦ï¼š
- å›¾è§£ï¼š![image.png](https://cdn.nlark.com/yuque/0/2022/png/1238904/1659513264413-a47bfc32-5f9d-4f35-a6c9-3bf247be0699.png#averageHue=%23f4eeea&clientId=ue21e1b20-e4a1-4&errorMessage=unknown%20error&from=paste&height=115&id=u0a63be67&name=image.png&originHeight=172&originWidth=412&originalType=binary&ratio=1&rotation=0&showTitle=false&size=9874&status=error&style=none&taskId=ucfa971cf-cfa1-4d8f-b3b2-d04e6c5c10c&title=&width=274.6666666666667)
### ç®—æ³•ç‰¹ç‚¹

1. åƒæ‰“æ‰‘å…‹ç‰Œä¸€æ ·æŠŠä¹±åºçš„ç‰Œä»å¤´å¼€å§‹**é€‰æ‹©æ’å…¥çš„ä½ç½®**ï¼Œä»è€Œè¿›è¡Œæ’åº
2. ä¸»è¦å¯¹â€˜â€™**æœ‰åºåŒºâ€˜â€™** è¿›è¡Œæ“ä½œï¼ŒæŠŠåç»­æœªçŸ¥å¤§å°çš„ç‰Œä¸€å¼ ä¸€å¼ **æ’å…¥**â€˜â€™**æœ‰åºåŒº**â€˜â€™
3. ä¸€æ¯”è¾ƒå®Œå°±è¦äº¤æ¢ä½ç½®ï¼Œæ‰èƒ½å®ç°æ¯ä¸€å¼ ç¬¦åˆæ¡ä»¶çš„ç‰Œé€æ¬¡å‘åç§»
4. ä¸€ä¸ªéå†**è®°å½•**ç¨‹åºç°åœ¨è¿è¡Œï¼ˆæ“ä½œã€æ’åºï¼‰åˆ°ä½•å¤„ï¼Œå¦ä¸€ä¸ªéå†**æ“æ§**æŸå¼ ç‰Œè¯¥å¦‚ä½• æ¯”è¾ƒï¼Œå¹¶**æœ€å**å†³å®šæ’å…¥åˆ°å“ªä¸ªä½ç½®
5. ä»£ç å®ç°
```python
def insert_sort(li):
    for i in range(len(li)-1):
        pick_car = i+1  # å¯¹ä¸‹ä¸€å¼ ç‰Œè¿›è¡Œæ“ä½œ
        while pick_car >= 1 and li[pick_car] <= li[pick_car-1]:
            li[pick_car], li[pick_car - 1] = li[pick_car - 1], li[pick_car]
            pick_car -= 1
```

---


## å¿«é€Ÿæ’åº(quick_sort)

**å®šä¹‰**: éšå³æŒ‡é’ˆé€‰æ‹©ä¸€ä¸ªåŸºå‡†å€¼, åœ¨æ•°ç»„ä¸­**äº¤æ¢åŸºå‡†å€¼å·¦å³ä¸¤è¾¹æ•°çš„ä½ç½®,** ä½¿å¾—æ¯æ¬¡æ’åºç»“æŸä¹‹å, åŸºå‡†å€¼**å·¦è¾¹çš„æ•°(è®°å·¦è¾¹æ•°ç»„A)éƒ½å°äºå®ƒ, å³è¾¹çš„æ•°(è®°å³è¾¹æ•°ç»„B)éƒ½å¤§äº**å®ƒçš„éƒ¨åˆ†æœ‰åºæ•ˆæœ, å†é€’å½’ä¸¤ä¸ªA, Bæ•°ç»„, ç»§ç»­åˆ‡åˆ†æ’åº, ä½¿å¾—æœ€åæ•°ç»„å‘ˆç°ä»å·¦åˆ°å³éé€’å‡çš„æœ‰åºçš„çŠ¶æ€

### å¿«æ’æ¨¡æ¿ä¸€

æ³¨æ„: 
	==// 1. å½“left=right æˆ–è€…äºŒè€…äº¤å‰æ—¶é€€å‡ºå¾ªç¯,æ­¤æ—¶leftåœ¨pivotå³ä¾§,rightåœ¨pivotå·¦ä¾§
	// 2. äº¤å‰éƒ¨åˆ†å¯ä»¥ç†è§£ä¸ºæ‰€æœ‰ç­‰äºpivotæŒ‡é’ˆçš„å€¼

```java
import java.util.Random;

public class Solution {
    /*
     * @param A: an integer array
     * @return: 
     */
    public Random rand;
    public void sortIntegers2(int[] A) {
        rand = new Random();
        // write your code here
        quickSort(A, 0, A.length - 1);
    }
    
    public void quickSort(int[] A, int start, int end) {
        if (start >= end) {
            return;
        }

        int index = rand.nextInt(end - start + 1)  + start;
        int pivot = A[index];
        int left = start;
        int right = end;
        
        while (left <= right) {
            while (left <= right && A[left] < pivot) {
                left ++;
            }
            while (left <= right && A[right] > pivot) {
                right --;
            }
            
            if (left <= right) {
                int temp = A[left];
                A[left] = A[right];
                A[right] = temp;
                
                left ++;
                right --;
            }
        }
        // 1. å½“left==right æˆ–è€…äºŒè€…äº¤å‰æ—¶é€€å‡ºå¾ªç¯,æ­¤æ—¶leftåœ¨pivotå³ä¾§,rightåœ¨pivotå·¦ä¾§
        // 2. äº¤å‰éƒ¨åˆ†å¯ä»¥ç†è§£ä¸ºæ‰€æœ‰ç­‰äºpivotæŒ‡é’ˆçš„å€¼
        // A[start... right] 
        quickSort(A, start, right);
        // A[left ... end]
        quickSort(A, left, end);
    }
}
```
#### é€»è¾‘å’Œæ­¥éª¤
**ä¸€æ­¥æ­¥å»ºç«‹æœ‰åºå…³ç³»**

1. æ’åºéƒ¨åˆ†: ç”¨partitionå‡½æ•°å…ˆ**å½’ä½**ç¬¬ä¸€ä¸ªå…ƒç´ _**tmp**_ï¼ˆå·¦å³æœ‰åºï¼‰
2. åˆ†æ²»éƒ¨åˆ†: è®¾è®¡**é€’å½’å‡½æ•°**ä¾æ¬¡å½’ä½å…¶ä½™å…ƒç´ ï¼ˆæ¯ä¸ªå…ƒç´ éƒ½å·¦å³æœ‰åºï¼‰ï¼Œå®Œæˆæ’åºã€‚

**å½’ä½partitionå‡½æ•°çš„è®¾è®¡**

1. **å³æŒ‡é’ˆrightç§»åŠ¨**ï¼Œä»å³å‘å·¦**ä¸€ç›´æ‰¾åˆ°**æ¯”_**tmp**_å°çš„æ•°æ”¾åˆ°**left**ï¼ˆæ­¤æ—¶tmpä½ç½®å³ä¸ºleftä½ç½®ï¼‰ä½ç½®ä¸Šï¼Œåœæ­¢ç§»åŠ¨ã€‚
2. **å·¦æŒ‡é’ˆleftç§»åŠ¨**ï¼Œä»å·¦å‘å³æ¯”å¯¹ç›´åˆ°æ‰¾åˆ°æ¯”_**tmp**_å¤§çš„æ•°æ”¾åˆ°**right**çš„ä½ç½®ä¸Šï¼Œåœæ­¢ç§»åŠ¨ã€‚

**è¾¹ç•Œæ¡ä»¶**

1. å°å¾ªç¯ä¸­è®¾ç½®**left<right  ** ï¼š
2. **data[right] >= tmp **å°å¾ªç¯æ—¶é‡ä¸Šä¸tmpå€¼ç›¸ç­‰çš„å…ƒç´ ï¼šå½“leftä¸rightæœªé‡åˆï¼Œä½†**data[left] == data[right]**ï¼ˆleftä½ä¸rightä½çš„æ•°å¤§å°ç›¸åŒæ—¶ï¼‰ï¼Œè¿›ä¸äº†å°å¾ªç¯ï¼Œleftä¸rightçš„å€¼ä¸èƒ½æ”¹å˜ï¼Œåˆå‡ºä¸äº†å¤§å¾ªç¯ï¼Œæ­¤æ—¶ä¼šé€ æˆæ­»å¾ªç¯ã€‚



### ä¸‰è·¯å¿«æ’

#### é€»è¾‘å’Œæ­¥éª¤

### å¿«æ’æ¨¡æ¿äºŒ
ä»£ç å®ç°ï¼š
```python
def partition(data, left, right):
    tmp = data[left]
    while left < right:
        å·¦è¾¹æœ‰ç©ºä½ï¼Œå…ˆä»å³è¾¹æ‰¾å…ƒç´ è¡¥åˆ°å·¦è¾¹
        '''ç›´åˆ°æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„æ•°å†æ¢ä½ç½®ï¼Œæ²¡æ‰¾åˆ°å°±ä¸€ç›´å¾ªç¯'''
        while left < right and data[right] >= tmp:
            right -= 1
        data[left] = data[right]
        '''æ‰¾åˆ°å¤§äºtmpçš„æ•°æ”¾åˆ°å³è¾¹'''
        while left < right and data[left] <= tmp:
            left += 1
        data[right] = data[left]
    '''æœ€åright == leftåtmpå½’ä½'''
    data[left] = tmp
    return left
```
**_å†…å±‚å¾ªç¯æœ‰æ—   left < right çš„åŒºåˆ«   _**
```python
data = [1,2,3,0]

def partition1(data, left, right):
    tmp = data[left]
    while left < right:
        while data[right] > tmp:
            right -= 1
        data[left] = data[right]
        while data[left] < tmp:
            left += 1
        data[right] = data[left]
    data[left] = tmp
    return data

'''è¾“å‡º
[3, 0, 1, 2]'''

def partition2(data, left, right):
    tmp = data[left]
    while left < right:
        while left < right and data[right] > tmp:
            right -= 1
        data[left] = data[right]
        while left < right and data[left] < tmp:
            left += 1
        data[right] = data[left]
    data[left] = tmp
    return data

'''è¾“å‡º
[0, 1, 3, 2]'''
```
```python
def quick_sort(data,left,right):
   '''æ•°æ®ç”±ä¼ å…¥å‡½æ•°å‚æ•°è·å¾—
    left = 0
    right = len(data) - 1'''
    if left < right:  #é€’å½’ç»ˆæ­¢æ¡ä»¶
        #è¿”å›åˆ†å‰²ä½ç½®
        posi = partition(data, left, right)
        #è°ƒæ•´posiå·¦è¾¹
        quick_sort(data, left, posi-1)
        #è°ƒæ•´posiå³è¾¹
        quick_sort(data, posi+1, right)
```

#### é€»è¾‘å’Œæ­¥éª¤
å…ˆäº¤æ¢PivotæŒ‡é’ˆæŒ‡å‘çš„æ•°åˆ°æ•°ç»„ç¬¬ä¸€ä¸ªä½ç½®, æœ€åå†å°†pivotæŒ‡é’ˆæ¢å›æ¥, ä½¿å¾—pivotæŒ‡é’ˆåˆ†å‰²åæ•°ç»„å·¦å³ä¸¤è¾¹åˆ†ç•Œæ˜æ˜¾, å†æ­¤åŸºç¡€ä¸Šç»§ç»­é€’å½’
**å›¾è§£ï¼š**
- ä¿å­˜è¦å›ºå®šå…ƒç´ 
- é€æ­¥èµ‹å€¼å¹¶**è¦†ç›–å…ƒç´ **ï¼Œä»¥è¾¾åˆ°äº¤æ¢å·¦å³å…ƒç´ çš„ç›®çš„
- æŠŠå›ºå®šå…ƒç´ æ”¾å›æœ€åçš„ç©ºä½


![image.png](https://cdn.nlark.com/yuque/0/2022/png/1238904/1659676762459-e1d943f1-2031-4ea8-a13e-bf44c2604de6.png#averageHue=%23f6f3f3&clientId=u0356e436-7b4a-4&errorMessage=unknown%20error&from=paste&height=307&id=u789aca60&name=image.png&originHeight=460&originWidth=400&originalType=binary&ratio=1&rotation=0&showTitle=false&size=24088&status=error&style=none&taskId=udee8ee58-4c4f-4270-b01e-a50c5ba7d0d&title=&width=266.6666666666667)

### å¿«æ’æ—¶é—´å¤æ‚åº¦

#### ä¸€èˆ¬æƒ…å†µ
- ä¸€èˆ¬æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ï¼š O(nlog`n`)

![image.png](https://cdn.nlark.com/yuque/0/2022/png/1238904/1659688938369-b8dd13c9-a926-4d73-a6d3-84df40798046.png#averageHue=%23f8f1f1&clientId=ue7abf72c-19bc-4&errorMessage=unknown%20error&from=paste&height=319&id=ue539c807&name=image.png&originHeight=478&originWidth=648&originalType=binary&ratio=1&rotation=0&showTitle=false&size=24995&status=error&style=none&taskId=uc5c52c27-6f19-42ef-9d9a-64256fd6e80&title=&width=432)
æ¶‰åŠåˆ°é€’å½’ï¼Œå‡è®¾åˆ—è¡¨é•¿åº¦ä¸º16å‡è®¾æ¯ä¸€å±‚éƒ½åˆšå¥½æŠŠè¦æ’åºçš„éƒ¨åˆ†åˆ†å‰²æˆä¸¤ä»½ï¼Œé‚£ä¹ˆéœ€è¦4å±‚é€’å½’æ‰èƒ½æŠŠæ‰€æœ‰çš„æ•°æ’å¥½é¡ºåºï¼Œ24 = 16 â€”â€”>é€’å½’å±‚æ•°ä¸º  4 = log216  â€”â€”> **éœ€è¦é€’å½’lognå±‚**
**æ¯å±‚é€’å½’éƒ½è¦è¿›è¡Œä¸€æ¬¡éå†åˆ—è¡¨é•¿åº¦n**
æ‰€ä»¥ç²—ç•¥æ¥ç®—æ—¶é—´å¤æ‚åº¦ä¸º  n*logn

#### æœ€åæƒ…å†µ
1. é€’å½’æ·±åº¦é™åˆ¶	
2. æ—¶é—´å¤æ‚åº¦æœ€åæƒ…å†µ

## å½’å¹¶æ’åº(merge_sort)
ğŸ˜¥
é€’å½’-å½’å¹¶æ’åºçš„åŸºæœ¬æ­¥éª¤ï¼š
1. ä»¥ä¸­ç‚¹è¿›è¡Œæ•°ç»„åˆ’åˆ†ï¼Œå°†å¾…æ’åºæ•°ç»„åˆ’åˆ†ä¸ºleft->mid, mid+1->rightçš„ä¸¤éƒ¨åˆ†ï¼ˆæ¢ç´¢å·¦å³è¾¹ç•Œï¼‰
2. ä¸€ç›´åˆ’åˆ†è‡³æ•°ç»„åªæœ‰æœ€å°ä¸€ä¸ªå•ä½ï¼Œä¸å¯å†åˆ†ï¼Œæ­¤æ—¶å‡½æ•°è¿”å›æœ€åèŠ‚ç‚¹
3. åˆå¹¶æ—¶æ’åº
### åˆ†æ²»æ€æƒ³
å…ˆå°†æ•°ç»„åˆ’åˆ†ä¸ºæœ€å°åªæœ‰ä¸€ä¸ªå•ä½ï¼Œåœ¨åˆå¹¶çš„æ—¶å€™è¿›è¡Œæ¯”è¾ƒå’Œæ’åº
1. å½“è¦åˆå¹¶çš„å·¦å³ä¸¤æ•°ç»„é•¿åº¦å¤§äº1æ—¶ï¼Œéœ€è¦åˆ†åˆ«ç§»åŠ¨å·¦å³ä¸¤ä¸ªæ•°ç»„çš„å¤´æŒ‡é’ˆè¿›è¡Œæ¯”è¾ƒï¼Œä¸”éœ€è¦å¦å¤–ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘æ–°æ•°ç»„æ’åºå¥½çš„ä½ç½®
### é“¾è¡¨+é€’å½’+å½’å¹¶æ’åº
é¢˜ç›®
![[Pasted image 20240604000645.png]]
ä»£ç å®ç°
```java
/**

Â * Definition for singly-linked list.

Â * public class ListNode {

Â * Â  Â  int val;

Â * Â  Â  ListNode next;

Â * Â  Â  ListNode() {}

Â * Â  Â  ListNode(int val) { this.val = val; }

Â * Â  Â  ListNode(int val, ListNode next) { this.val = val; this.next = next; }

Â * }

Â */

class Solution {

Â  Â  public ListNode sortList(ListNode head) {

Â  Â  Â  Â  // é€’å½’ç»ˆæ­¢æ¡ä»¶

Â  Â  Â  Â  if (head==null || head.next==null){

Â  Â  Â  Â  Â  Â  return head;

Â  Â  Â  Â  }

Â  Â  Â  Â  // æ‹†åˆ†

Â  Â  Â  Â  ListNode slow = head;

Â  Â  Â  Â  ListNode fast = head.next;

Â  Â  Â  Â  // å¿«æ…¢æŒ‡é’ˆæŸ¥æ‰¾ä¸­ç‚¹, å¿«æŒ‡é’ˆåˆ°è¾¾æœ€åä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œæ…¢æŒ‡é’ˆåˆ°è¾¾ä¸­ç‚¹

Â  Â  Â  Â  while (fast != null && fast.next!=null){

Â  Â  Â  Â  Â  Â  slow = slow.next;

Â  Â  Â  Â  Â  Â  fast = fast.next.next;

Â  Â  Â  Â  }

Â  Â  Â  Â  // å³åŠè¾¹é“¾è¡¨å¤´èŠ‚ç‚¹

Â  Â  Â  Â  ListNode temp = slow.next;

Â  Â  Â  Â  // ä»ä¸­ç‚¹åˆ‡å‰²æ•°ç»„

Â  Â  Â  Â  slow.next = null;

Â  Â  Â  Â  // å·¦è¾¹ç•Œä¸º"å¤´"èŠ‚ç‚¹ï¼Œå³è¾¹ç•Œä¸ºnullï¼Œåˆ‡å‰²é“¾è¡¨

Â  Â  Â  Â  ListNode left = sortList(head);

Â  Â  Â  Â  ListNode rigth = sortList(temp);

Â  Â  Â  Â  // æ„é€ å‡å¤´èŠ‚ç‚¹

Â  Â  Â  Â  ListNode doummyHead = new ListNode(0);

Â  Â  Â  Â  // ä¿å­˜å½“å‰ä¸¤é“¾è¡¨æ’åºåˆå¹¶ç»“æŸåçš„å¤´èŠ‚ç‚¹(æ°¸è¿œä½äºæœ€å·¦è¾¹)

Â  Â  Â  Â  ListNode res = doummyHead;

Â  Â  Â  Â  // åˆ‡å‰²å®Œæ¯•å(é€’å½’ç»“æŸå)åˆå¹¶

Â  Â  Â  Â  // åˆå¹¶å·¦å³é“¾è¡¨

Â  Â  Â  Â  while (left !=null && rigth !=null){

Â  Â  Â  Â  Â  Â  // ç¨³å®šæ€§ï¼Œå·¦è¾¹æ›´å°çš„è¿˜åœ¨å‰é¢

Â  Â  Â  Â  Â  Â  if (left.val <= rigth.val){

Â  Â  Â  Â  Â  Â  Â  Â  doummyHead.next = left;

Â  Â  Â  Â  Â  Â  Â  Â  left = left.next;

Â  Â  Â  Â  Â  Â  }else {

Â  Â  Â  Â  Â  Â  Â  Â  doummyHead.next = rigth;

Â  Â  Â  Â  Â  Â  Â  Â  rigth = rigth.next;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // å½“å‰æŒ‡é’ˆå‰ç§»

Â  Â  Â  Â  Â  Â  doummyHead = doummyHead.next;

Â  Â  Â  Â  }

Â  Â  Â  Â  // åˆå¹¶å‰©ä¸‹è‡ªç„¶æœ‰åºé“¾è¡¨,å·¦è¾¹æ’åºå‰©ä½™nextæŒ‡å‘å·¦è¾¹ï¼Œåä¹‹æŒ‡å‘å³è¾¹

Â  Â  Â  Â  doummyHead.next = left!=null?left:rigth;

Â  Â  Â  Â  return res.next;

Â  Â  }
}
```

## å †æ’åºï¼ˆheap_sortï¼‰
### æ ‘çŸ¥è¯†å‰ä¼ 
![](https://cdn.nlark.com/yuque/0/2022/jpeg/1238904/1659756251892-c22eeebf-51f7-414c-9f53-61d49dd255be.jpeg)

**æ ‘ï¼šçˆ¶äº²èŠ‚ç‚¹ä¸å­èŠ‚ç‚¹çš„å…³ç³»**

- **ç”¨æ•°ç»„æ¥ç»´æŠ¤ä¸€æ£µå®Œå…¨äºŒå‰æ ‘**
- **çŸ¥é“çˆ¶äº²æ‰¾å­©å­å¦‚æœçˆ¶äº²èŠ‚ç‚¹åœ¨æ•°ç»„ä¸­ç´¢å¼•ä¸ºiï¼Œåˆ™å·¦å­©å­ä¸º ï¼šleft_child =ï½‰ï¼Š 2 +1ï¼›å³å­©å­ä¸ºï¼šright_child = left_child + 1 = i * 2 + 2**
- **ç›´åˆ°å­©å­æ‰¾çˆ¶äº² ä¸ç®¡æ˜¯å·¦å­©å­è¿˜å³å­©å­ï¼Œçˆ¶äº²èŠ‚ç‚¹ç´¢å¼•éƒ½ä¸ºï¼ši =ï¼ˆ child - 1ï¼‰ // 2 (åœ¨pythonä¸­"//"ä¸ºå‘ä¸‹å–æ•´)ã€‚**
- **æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹ï¼ˆçˆ¶äº²èŠ‚ç‚¹ï¼‰ï¼Œåˆ—è¡¨é•¿åº¦ä¸ºnï¼Œ i = n//2 -1**
### å †![image.png](https://cdn.nlark.com/yuque/0/2022/png/1238904/1659756046369-028333bf-2ec1-431e-867e-769505e883ca.png#averageHue=%23fcfcfc&clientId=ua178e4fb-c4d5-4&errorMessage=unknown%20error&from=paste&height=341&id=uf2bf0c94&name=image.png&originHeight=511&originWidth=624&originalType=binary&ratio=1&rotation=0&showTitle=false&size=59979&status=error&style=none&taskId=u9d688918-a2f0-4f9b-a35c-6f36762ba1e&title=&width=416)
æ ¹èŠ‚ç‚¹æ¯”å­èŠ‚ç‚¹å¤§çš„éƒ¨åˆ†æ ‘ç»“æ„æˆ–æ ‘ç»“æ„ä¸ºå¤§æ ¹**å †**ï¼Œæ„é€ å¤§æ ¹å †æˆ–å°æ ¹å †çš„è¿‡ç¨‹å«åšæ„é€ å †ï¼ˆheapï¼‰

---

### åŸºæœ¬é€»è¾‘

- æ—¶é—´å¤æ‚åº¦ï¼š
- ![image.png](https://cdn.nlark.com/yuque/0/2022/png/1238904/1659771691641-f1052ecf-3496-4cc8-a440-87a06623fbd9.png#averageHue=%23fdfdfd&clientId=ua178e4fb-c4d5-4&errorMessage=unknown%20error&from=paste&height=208&id=u21dbf9c0&name=image.png&originHeight=312&originWidth=436&originalType=binary&ratio=1&rotation=0&showTitle=false&size=45460&status=error&style=none&taskId=u63bc1d5a-902d-4bc7-a008-d6ce131c4d2&title=&width=290.6666666666667)
1. æ„å»ºå †
   1. æŒ‰ç…§æ¯ä¸€ä¸ªçˆ¶äº²èŠ‚ç‚¹ä¸Šçš„æ•°éƒ½æ¯”å­èŠ‚ç‚¹å¤§è¿›è¡Œæ„é€ ï¼Œæ„é€ å‡ºæ¥çš„å †åœ¨åˆ—è¡¨æ˜¾ç¤ºå‡º**éƒ¨åˆ†æœ‰åº**
2. ä»ä¸Šå¾€ä¸‹è¿›è¡Œå †è°ƒæ•´
   1. ä½¿å¾—å †åœ¨åˆ—è¡¨æ˜¾ç¤ºå‡º**å…¨éƒ½æœ‰åº**
- ä»£ç å®ç°ï¼š
```python
def sift(li, low, high):
    # è‡ªä¸Šå‘ä¸‹è°ƒæ•´å‡½æ•°,è°ƒæ•´ä¸ºå¤§æ ¹å †
    i = low
    j = i*2 + 1 # å·¦å­©å­
    tmp = li[i] # ä¿å­˜è¦è°ƒæ•´çš„æ•°
    while j <= high:
        # !!å¦‚æœå³å­©å­å­˜åœ¨ä¸”å¤§äºå·¦å­©å­!!
        if j + 1 <= high and li[j] < li[j+1]:
            j = j + 1 # è®©jæŒ‡å‘æ›´å¤§çš„å­©å­
        if li[j] > tmp:
            # è‹¥å­èŠ‚ç‚¹æ¯” tmpå¤§ï¼Œå¯æŠŠå­èŠ‚ç‚¹å¾€ä¸Šæï¼Œç»§ç»­å‘ä¸‹ä¸€å±‚æ£€ç´¢
            li[i] = li[j]
            i = j
            j = i*2 + 1
        else:
            # ç›´åˆ°å­èŠ‚ç‚¹åˆ°åˆé€‚çš„ä½ç½®é€€å‡ºå¾ªç¯
            break
    li[i] = tmp
```
```python
def heap_sort(li):
    # å»ºé€ å †:ä»ç¬¬ä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹ä»åå‘å‰å±€éƒ¨è°ƒæ•´
    deep = len(li)
''' ç¬¬ä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¯ä»¥ä»å®ƒçš„å­èŠ‚ç‚¹åè·å–å¾—åˆ°ï¼Œ
    å®ƒçš„å­©å­æ˜¯åˆ—è¡¨é‡Œçš„æœ€åä¸€ä¸ªæ•°'''
    for leaf1 in range(deep//2-1, -1, -1):
        sift(li, leaf1, deep-1)
        
    # æ’åºå †ï¼šæŠŠæœ€å¤§æ•°å¼¹å‡ºååˆè°ƒæ•´ç”Ÿæˆæœ€å¤§æ•°äºæ ¹ç»“ç‚¹å¤„
    for i in range(deep-1, -1, -1):
        # i ä¸€ç›´æŒ‡å‘åˆ—è¡¨çš„æœ€åä¸€ä½ï¼Œå³æŒ‡å‘æœ€åä¸€ä¸ªå¶å­èŠ‚ç‚¹
    ''' å¤§æ ¹å †å»ºé€ å¥½åæ ¹èŠ‚ç‚¹æ•°å°±æ˜¯æœ€å¤§æ•°ï¼Œ
     å¯ä»¥å¼€å§‹å¾ªç¯æŠŠæœ€åä¸€ä¸ªæ•°æ¢åˆ°æ ¹èŠ‚ç‚¹ä¸Š'''
    # è€Œæœ€ä¸‹é¢çš„ä½ç½®åˆ™ä¼šä¾æ¬¡è¢«æ¢æˆæ”¾ç½®ä¸‹æ¥çš„æœ€å¤§æ•°
        li[0], li[i] = li[i], li[0]
#  æ­¤æ—¶æœ€ä½ä½iå·²ç»æŒ‡å‘ä¸ç”¨è°ƒæ•´çš„æœ€å¤§æ•°ï¼Œæ‰€ä»¥æœ€ä½ä½ç½®ä¸ºi-1
        sift(li, 0, 1-1)
```


# topké—®é¢˜â€”â€”æ’åºè®¨è®º
åŸºæœ¬é¢˜ç›®å°±æ˜¯è¦æ‰¾åˆ°æ•°ç»„ä¸­å‰Kä¸ªæœ€å¤§çš„å…ƒç´ æˆ–è€…æ˜¯æ‰¾åˆ°ç¬¬Kä¸ªå¤§çš„å…ƒç´ , æˆ–è€…ä¸ä¹‹ç›¸å…³çš„å˜å¼
## è§£å†³æ–¹æ³•

1. æ„å»ºå°æ ¹å †â€”â€”å †ä¸­åªç»´æŠ¤Kä¸ªå…ƒç´ 
	1. å †é¡¶å…ƒç´ ä¼šä¸€ç›´æ˜¯Kä¸ªæ•°ä¸­æœ€å°çš„å…ƒç´ , éå†æ•´ä¸ªæ•°ç»„, å¦‚æœæœ‰æ¯”å †é¡¶å¤§çš„å…ƒç´ åˆ™å¼¹å‡ºå †é¡¶, å°†æ›´å¤§çš„å…ƒç´ æ”¾å…¥å †ä¸­, æ­¤æ—¶ç”±äºå°æ ¹å †ä¼šè‡ªåŠ¨ç»´æŠ¤, å°†æœ€å°çš„å…ƒç´ åˆç½®äºå †é¡¶, æ‰€ä»¥å½“éå†ç»“æŸä¹‹åå †ä¸­çš„å…ƒç´ å°±æ˜¯å‰Kå¤§ä¸ªæ•°
	2. æ—¶é—´å¤æ‚åº¦O(nlogk)ï¼Œéœ€è¦éå†ä¸€æ¬¡æ•´ä¸ªåˆ—è¡¨ï¼Œæ¯æ¬¡éå†åˆ°çš„é‚£ä¸ªæ•°éƒ½æœ‰å¯èƒ½è¿›å…¥å°æ ¹å †é‡Œè¿›è¡Œè°ƒæ•´ï¼Œå‡è‹¥æ¯ä¸ªæ•°éƒ½ä¼šè°ƒæ•´ä¸€æ¬¡ï¼Œé‚£ä¹ˆè°ƒæ•´æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆlogkï¼‰ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogk)
2. å†’æ³¡æ’åºâ€”â€”å†’å‰kä¸ªæ•°ä¸Šå»â€”â€”ä¸éœ€è¦æ’æ‰€æœ‰çš„æ•°
   1. æ—¶é—´å¤æ‚åº¦ï¼šO(nk)ï¼Œæ¯æ¬¡å†’æ³¡éƒ½ä¼šæŠŠæœ€å¤§çš„æ•°å†’åˆ°é¡¶ç«¯å»ï¼Œè¦å†’kä¸ªæ•°ï¼Œå•ä¸ªæ•°éƒ½è¦èŠ±è´¹Oï¼ˆnï¼‰çš„æ—¶é—´ï¼Œæ‰€ä»¥æ€»è®¡æ—¶é—´å¤æ‚åº¦ä¸ºO(nk)
3. å¿«æ’â€”â€”å¿«é€Ÿé€‰æ‹©æ›´åå‘äºé«˜æ•ˆæŸ¥æ‰¾ï¼Œè€Œä¸æ˜¯ä¿è¯å±€éƒ¨çš„æœ‰åºæ€§
	1. ä½¿ç”¨å¿«æ’å¤§äºåŸºå‡†å€¼çš„æ•°æ”¾åœ¨å·¦è¾¹,å°äºçš„æ”¾åœ¨å³è¾¹
	2. åªé€’å½’å¤§äºåŸºæœ¬åªéƒ¨åˆ†çš„æ•°ç»„,ä¸”å½“`pivot==k-1`åœæ­¢é€’å½’ç›´æ¥è¿”å›è¯¥éƒ¨åˆ†æ•°ç»„,æ—¶é—´å¤æ‚åº¦é™ä½ä¸ºO(n)
	3. å½“å‰`pivot==k-1`æ—¶, å‰kä¸ªå…ƒç´ å°±æ˜¯topkçš„å…ƒç´ 
	4. æ—¶é—´å¤æ‚åº¦O(n)

---

### å°æ ¹å †
#### æ€è·¯
å®ç°: javaä¸­ç›´æ¥ä½¿ç”¨PriorityQueue, è‡ªå®šä¹‰æ’åºå™¨æˆ–é™å®šä¼˜å…ˆçº§é˜Ÿåˆ—å¤§å°ä¸ºK
- å¦‚ä½•ç”¨å †æ’åºè§£å†³å‰kä¸ªå¤§çš„æ•°é—®é¢˜
1. ä»éœ€è¦ç»´æŠ¤æ•°æ®é‡Œè·å¾—å‰kä¸ªæ•°ï¼Œå»ºç«‹ä¸€ä¸ªå¤§å°ä¸ºkä¸ªæ•°çš„å°æ ¹å †ã€‚
   1. æ­¤æ—¶å †é¡¶ä¸ºè¿™kä¸ªæ•°é‡Œé¢æœ€å°çš„æ•°ï¼Œå³ä¸º**ç¬¬kå¤§çš„æ•°**
2. éå†éœ€è¦ç»´æŠ¤æ•°æ®ä½™ä¸‹çš„æ•°ï¼ˆåˆ—è¡¨é‡Œå–å‡ºçš„å‰kä¸ªæ•°ä¹‹åçš„æ•°ï¼‰ï¼Œæ¯æ¬¡è·å–åˆ°çš„æ•°ä¸å †é¡¶æ•°è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥å¤§äºå †é¡¶æ•°åˆ™è¿›å…¥å°æ ¹å †è¿›è¡Œè°ƒæ•´ï¼Œå¦åˆ™ç»§ç»­éå†ä¸‹ä¸€ä¸ªæ•°ã€‚
   1. è°ƒæ•´å³ä¸ºç»´æŠ¤å°æ ¹å †çš„ç‰¹æ€§
3. éå†ç»“æŸä¹‹åç»´æŠ¤çš„å°æ ¹å †é‡Œå°±æ˜¯å‰kä¸ªæ•°ï¼Œé€†åºå¼¹å‡ºå°±å¯ä»¥è·å¾—ä»å¤§åˆ°å°æ’åˆ—çš„å‰kå¤§çš„æ•°ã€‚
> - leetcodeä¾‹é¢˜ï¼šå‰kä¸ªé¢‘ç‡æœ€é«˜çš„æ•°

#### ä»£ç 
```java
class Solution {
    public int[] topKFrequent(int[] nums, int k) {
        Map<Integer, Integer> count = new HashMap<>();
        for(int num : nums){
            count.put(num, count.getOrDefault(num, 0) + 1);
        }

        PriorityQueue<int[]> queue = new PriorityQueue<>(new Comparator<int[]>(){
            public int compare(int[] m, int[] n){
                return m[1] - n[1];
            }
        });
        
        for(Map.Entry<Integer, Integer> entry : count.entrySet()){
            int num = entry.getKey(), cnt = entry.getValue();
            // ç»´æŠ¤å°æ ¹å †éƒ¨åˆ†
            if(queue.size() == k){
                if(cnt > queue.peek()[1]){
                    queue.poll();
                    queue.offer(new int[]{num, cnt});
                }
            }else{
                queue.offer(new int[]{num, cnt});
            }
        }

        int[] res = new int[k];
        for(int i = 0; i < k; i++){
            res[i] = queue.poll()[0];
        }
        return res;
    }
}
```


### å¿«æ’
#### æ€è·¯
i. éšæœºé€‰ä¸€ä¸ªä¸­é—´å€¼ä½œä¸ºåŸºå‡†ï¼Œå¹¶æŠŠå®ƒæŒªåˆ°æœ€å·¦ä¾§
ii. ä»ç¬¬2ä¸ªå…ƒç´ å¼€å§‹éå†ï¼Œéå†è¿‡ç¨‹ä¸­ï¼Œè¦æŠŠæ¯”åŸºå‡†å¤§çš„æŒªåˆ°å·¦è¾¹ï¼Œæ¯”åŸºå‡†å°çš„æŒªåˆ°å³è¾¹
iii. i æŒ‡å‘æ¯”åŸºå‡†å¤§çš„å…ƒç´ ï¼Œåªè¦ j æŒ‡å‘çš„å…ƒç´ æ¯”åŸºå‡†å°ï¼Œå°±æŠŠ j ä½ç½®çš„å…ƒç´ å’Œiåé¢ä¸€ä¸ªä½ç½®çš„å…ƒç´ å¯¹è°ƒ
å¹¶ä¸”iåç§»ä¸€ä½ï¼Œè¿™æ · i æŒ‡å‘çš„å…ƒç´ ä»¥åŠiä¹‹å‰çš„å…ƒç´ éƒ½æ˜¯æ¯”åŸºå‡†å¤§çš„å…ƒç´ ï¼ˆåŸºå‡†æœ¬èº«é™¤å¤–ï¼‰
iv. jéå†åˆ°æœ«å°¾åï¼Œæ­¤æ—¶iæŒ‡å‘çš„å°±æ˜¯æ’åºåçš„åˆ—è¡¨ä¸­æ¯”åŸºå‡†å¤§çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå°†è¯¥å…ƒç´ å’ŒåŸºå‡†å¯¹è°ƒï¼Œå³
num_cnt[low], num_cnt[i] = num_cnt[i], num_cnt[low]
è¿™æ ·æ’åºåçš„åˆ—è¡¨å°±æ˜¯åœ¨iä½ç½®å‰çš„éƒ½æ¯” i å¤§ï¼Œi ä½ç½®åçš„éƒ½æ¯” i å°
æ¥ä¸‹æ¥å°±æ˜¯åˆ†æ²»éƒ¨åˆ†äº†
i. å¦‚æœ i == k - 1ï¼Œä¹Ÿå°±æ˜¯iåŠä¹‹å‰çš„å…ƒç´ æ°å¥½ç»„æˆäº†æˆ‘ä»¬æƒ³è¦çš„topKï¼Œç›´æ¥è¿”å›å‰kä¸ªå…ƒç´ 
ii. å¦‚æœ i > k - 1, ä¹Ÿå°±æ˜¯iåŠä¹‹å‰çš„å…ƒç´ ç»„æˆäº†top(K+N)ï¼Œè¦å¯¹å‰ i ä¸ªå…ƒç´ å†è¿›è¡Œä¸€æ¬¡å¿«æ’ï¼Œä»top(K+N)é‡Œé€‰å‡ºtopK
findTopK(num_cnt, k, low, i - 1)
iii. å¦‚æœ i < k - 1ï¼Œä¹Ÿå°±æ˜¯iåŠä¹‹å‰çš„å…ƒç´ ç»„æˆäº†top(K-N)ï¼Œè¦å¯¹iä¹‹åçš„å…ƒç´ å†è¿›è¡Œå¿«æ’ï¼Œåœ¨ä¹‹åçš„å…ƒç´ ä¸­é€‰å‡ºtopN
findTopK(num_cnt, k, i + 1, high)
è¿”å›å¿«æ’ç»“æœä¸­çš„æ•°å­—éƒ¨åˆ†

#### ä»£ç 
```java
public int[] topKFrequent(int[] nums, int k) {

Â  Â  Â  Â  Map<Integer, Integer> map = new HashMap<>();

Â  Â  Â  Â  for (int n:nums){

Â  Â  Â  Â  Â  Â  map.put(n, map.getOrDefault(n, 0)+1);

Â  Â  Â  Â  }

Â  Â  Â  Â  List<int[]> newNums = new LinkedList<>();
		// ç±»å‹ä¸ºMapçš„å†…éƒ¨ç±»Entry, mapè·å–entryçš„æ–¹æ³•
Â  Â  Â  Â  for (Map.Entry<Integer, Integer> m:map.entrySet()){
Â  Â  Â  Â  Â  Â  newNums.add(new int[]{m.getKey(), m.getValue()});
Â  Â  Â  Â  }

Â  Â  Â  Â  List<int[]> res = quickSort(newNums, k, 0, newNums.size()-1);

Â  Â  Â  Â  int[] r = new int[k];

Â  Â  Â  Â  for (int i=0;i<k;i++){

Â  Â  Â  Â  Â  Â  r[i] = res.get(i)[0];

Â  Â  Â  Â  }

Â  Â  Â  Â  return r;

Â  Â  }

Â  Â  // å·¦é—­å³é—­åŒºé—´

Â  Â  private List<int[]> quickSort(List<int[]> nums, int k, int l, int r){

Â  Â  Â  Â  // éšæœºæŒ‡é’ˆ

Â  Â  Â  Â  Random random = new Random();

Â  Â  Â  Â  int p = l+random.nextInt(r-l+1);

Â  Â  Â  Â  // åŸºå‡†å€¼

Â  Â  Â  Â  int base = nums.get(p)[1];

Â  Â  Â  Â  // äº¤æ¢åŸºå‡†å€¼ä¸lä¸‹æ ‡å€¼

Â  Â  Â  Â  Collections.swap(nums, l, p);

Â  Â  Â  Â  // iæ˜¯æœ‰åºçš„æœ€å·¦è¾¹ç•Œ

Â  Â  Â  Â  int i=l;

Â  Â  Â  Â  for (int j=i+1;j<=r;j++){

Â  Â  Â  Â  Â  Â  if (nums.get(j)[1] > base){

Â  Â  Â  Â  // æ¯”è¾ƒäº¤æ¢éƒ¨åˆ†,æ­¤æ—¶åŸºå‡†å€¼å·²ç»ä½äºæ•°ç»„å·¦è¾¹ç•Œä¸Šï¼Œå½“æ‰¾åˆ°ä¸€ä¸ªå¤§äºåŸºå‡†å€¼çš„æ•°å°±å°†å®ƒæ”¾åœ¨æ’åºå¥½ä¸‹æ ‡ï¼ˆå½“å‰ä¸‹æ ‡ä¸ºiï¼‰çš„åä¸€ä½ï¼ˆi+1ï¼‰ï¼Œè€Œä¸æ˜¯äº¤æ¢åŸºå‡†å€¼ä¸å¤§äºåŸºå‡†å€¼çš„æ•°

Â  Â  Â  Â  Â  Â  Â  Â  Collections.swap(nums, i+1, j);

Â  Â  Â  Â  Â  Â  Â  Â  // å¹¶ä¸”æ­¤æ—¶æ’åºå¥½çš„æŒ‡é’ˆèŒƒå›´æ‰©å¤§

Â  Â  Â  Â  Â  Â  Â  Â  i++;

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }

Â  Â  Â  Â  // æ’åºç»“æŸä¹‹åå°†åŸºå‡†å€¼ä¸æ’åºå¥½çš„èŒƒå›´çš„æœ€åä¸€ä¸ªæ•°äº¤æ¢(å› ä¸ºä¸­é—´å¯èƒ½æœ‰ç­‰äºåŸºå‡†å€¼çš„æ•°)ï¼Œå½’ä½é€»è¾‘å®Œæ•´

Â  Â  Â  Â  Collections.swap(nums, l, i);

Â  Â  Â  Â  // åˆ†æ²»éƒ¨åˆ†

Â  Â  Â  Â  if (i==k-1){

Â  Â  Â  Â  Â  Â  // subListå·¦é—­å³å¼€

Â  Â  Â  Â  Â  Â  // è¿”å›æ’åºå¥½çš„å‰Kä¸ªæ•°æœ€ç»ˆç»“æœ

Â  Â  Â  Â  Â  Â  return nums.subList(0, k);

Â  Â  Â  Â  }else if (i>k-1){

Â  Â  Â  Â  Â  Â  // i-1åªé€’å½’ä¹±åºéƒ¨åˆ†

Â  Â  Â  Â  Â  Â  return quickSort(nums, k, l, i-1);

Â  Â  Â  Â  }

Â  Â  Â  Â  return quickSort(nums, k, i+1, r);

Â  Â  }
```

# ç»Ÿè®¡å…ƒç´ ä¸ªæ•°ï¼ˆå…ƒç´ è®¡æ•°ï¼‰

- å‡è®¾åˆ—è¡¨é‡Œæœ‰å¤§é‡é‡å¤ä¸”æ— åºçš„æ•°ï¼Œå¦‚ä½•é«˜æ•ˆç»Ÿè®¡æ¯ä¸ªå…ƒç´ å‡ºç°çš„é¢‘ç‡
## æ‰‹å†™countå‡½æ•°
## å†…ç½®countæ¨¡å—å†è½¬æ¢ä¸ºå…ƒç»„ç­‰è¿ç»­æ•°æ®å­˜å‚¨
## å“ˆå¸Œè¡¨å­˜å‚¨
